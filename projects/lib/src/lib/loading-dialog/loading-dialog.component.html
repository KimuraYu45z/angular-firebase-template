<mat-dialog-content class="dialog">
  <div fxLayout="row" fxLayoutAlign="center center">
    <div fxFlex="60px" style="height: 60px; overflow: hidden;">
      <ng-container *ngIf="isCompleted || error; else isNotCompleted">
        <mat-progress-spinner
          [diameter]="60"
          [mode]="'determinate'"
          [value]="progress"
          [color]="error ? 'warn' : 'primary'"
        ></mat-progress-spinner>
      </ng-container>
      <ng-template #isNotCompleted>
        <mat-progress-spinner
          [diameter]="60"
          [mode]="'indeterminate'"
        ></mat-progress-spinner>
      </ng-template>
    </div>
    <p style="flex: 1 1 auto;" fxFlexOffset="16px">
      {{ error ? error : (message$ | async) }}
    </p>
  </div>
</mat-dialog-content>
